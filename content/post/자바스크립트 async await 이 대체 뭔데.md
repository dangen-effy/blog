---
title: "자바스크립트 async await 이 대체 뭔데"
description: "비동기 함수와 동기 함수"
date: 2020-12-01T22:30:00+09:00
draft: false
tags: ["JavaScript"]
categories: ["JavaScript"]
---

<img src="/images/javascript_logo.png" alt="JavaScript" width="100" height="100">

<br/>

볼 때마다 헷갈리는 async await 이놈들이 대체 뭘까요? 채용 공고를 살펴보면 허구한 날 JavaScript async 키워드 숙련자 찾는 얘기는 보이니까 배우긴 해야 할거 같고...

지금부터 제가 도와드리겠습니다. 😀

## async 는 function 앞에 붙는 키워드일 뿐이다.

아래 두 함수의 차이점이 뭘까요?

```
function one() {

}
```

```
async function two() {
    
}
```

바로 `async` 키워드가 있냐 없냐라는 차이점이 있죠. 근데 이건 시각적인 차이고 우리가 *기능적*으로 기대하는 차이는 뭘까요? 바로 함수가 **동기**냐 **비동기**냐입니다.

---

먼저 `one` 함수는 **동기 함수** 입니다. 자바스크립트의 싱글 스레드 안에서 순차적으로 실행되는 동기 함수죠. 동기 함수, 순차적... 이게 다 무슨 말이냐구요? 😱 코드로 설명해볼게요.

```
function foo() { console.log('foo') }
function bar() { console.log('bar') }
```

위 두 함수 `foo` 그리고 `bar` 함수는 앞서 설명한 대로 동기 함수입니다. 왜냐면 `async` 키워드가 앞에 없으니까요. 이떄 두 함수를 순서대로 호출해볼께요.

```
foo()
bar()

// => Console
foo
bar
```

이때 콘솔에 때려죽여도 무슨 일이 있어도 `foo` 다음에 `bar` 가 출력됩니다.

만약 출력 순서를 바꿀 방법을 알고 계시거나 이를 보여 주실 수 있으시다면 제가 스타벅스 쿠폰 한 장 드리겠습니다. 즉 이런 일은 일어날 수 없습니다. 왜냐면 두 함수 모두 순서를 보장받는 동기 함수며 호출 당하면 끝나기 전까지(리턴하기 전까지) **절대로** 다음 라인을 호출하지 않기 때문입니다.

## 그래서 어쩌라고요? 🤷‍♀️

예. 그래서 어쩌자는 걸까요. 코드가 순서대로 실행되는 건 당연한 거니까요. 그런데 순서대로 실행되지 않고 비동기적으로 처리하고 싶은 일이 있으면 어떻게 할까요? 지금부터 상상력을 발휘해봅시다.

구글링을 해보셔서 아시겠지만 보통 검색창에 단어를 입력하면 **자동 완성** 이라는 친절한 짓을 해줍니다. 이 기능은 어떻게 이뤄질까요? 당연히 구글의 자동 완성 API를 호출한 결과를 렌더링 하는 거겠죠. 즉 키보드를 누를 때마다 자동 완성 API를 호출하고 그 결과를 받아오는 짓을 하고 있는 겁니다.

<img src="/images/google_autocomplete.png" alt="Google" width="800">

<br/>

> 키보드를 누를 때마다 열심히 자동 완성 API를 호출하고 있는 모습

자 바로 이 상황입니다. 앞에서 설명한 비동기적으로 처리하고 싶은 일이 등장했습니다. 만약 자동 완성 API를 호출하고 결과를 받아오는 함수가 **동기 함수**였다면 어떨지 상상해봅시다.

`핸드폰`을 검색하고자 할 때...

```
`ㅎ`을 타이핑하면 자동 완성 API 호출 후 결과 받아올 때까지 키보드 입력 불가능, 자동 완성 결과 받아오고 렌더링 끝날 때까지 기다림

`해`을 타이핑하면 자동 완성 API 호출 후 결과 받아올 때까지 키보드 입력 불가능, 자동 완성 결과 받아오고 렌더링 끝날 때까지 기다림

`핸`을 타이핑하면 자동 완성 API 호출 후 결과 받아올 때까지 키보드 입력 불가능, 자동 완성 결과 받아오고 렌더링 끝날 때까지 기다림

`핸ㄷ`을 타이핑하면 자동 완성 API 호출 후 결과 받아올 때까지 키보드 입력 불가능, 자동 완성 결과 받아오고 렌더링 끝날 때까지 기다림

...(중략)

`핸드폰`을 타이핑하면 자동 완성 API 호출 후 결과 받아올 때까지 키보드 입력 불가능, 자동 완성 결과 받아오고 렌더링 끝날 때까지 기다림
```


이러면 사용자 입장에서 정말 불편하겠죠. 원하는 검색 키워드를 빠르게 입력하지 못하니까요. 만약 이걸 비동기 함수로 처리한다면 어떻게 될까요?

```
`핸드폰`을 타이핑하는 중간에 자동 완성 API를 비동기로 호출하고 결과를 받아오면 그때 재빨리 자동 완성 보여주기
```

이렇게 훨씬 매끄러운 로직을 설계할 수 있겠죠?

작성 중입니다...
